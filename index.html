<!DOCTYPE html>
<html>
<head>
	<title>AngularJS Smartsheet Picker</title>
    <script src="smartsheetPicker/dist/angular/angular.min.js"></script>
    <script src="smartsheetPicker/dist/smartsheetPicker.module.js"></script>
    <script src="example.module.js"></script>
    <script src="smartsheetPicker/dist/smartsheetPicker.directive.js"></script>
    <link href="smartsheetPicker/dist/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="smartsheetPicker/dist/smartsheetPicker.css" rel="stylesheet"></script>
</head>
<body ng-app="example" ng-controller="homeController">
    <h2>Smartsheet Picker for AngularJS</h2>
    <p>This is page is an example of how to impliment the Smartsheet Picker directive for AngularJS.</p>
    <div class="smartsheetPicker" style="margin: 25px;">
        <smartsheet-picker
            on-sheet-select="vm.setSelectedSheet(selectedSheet)"
            tree-data="vm.treeData"
            selected-sheet="vm.selectedSheet"></sheet-picker>
    </div>
    <script>
        angular
            .module('home',[])
            .controller('homeController', function($scope) {
                $scope.vm = {};
                $scope.vm.selectedSheet = null;

                console.log('homeController');
                // treeData is where you will want to inject the response from the getHome endpoint in the Smartsheet API
                $scope.vm.treeData = {
                    "sheets": [
                        {
                            "id": 1000000000000004,
                            "name": "Project Scorpio",
                            "accessLevel": "OWNER",
                            "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                            "createdAt": "2016-04-21T20:55:21Z",
                            "modifiedAt": "2016-08-10T12:35:05Z"
                        },
                        {
                            "id": 1000000000000005,
                            "name": "Account Object Test",
                            "accessLevel": "OWNER",
                            "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                            "createdAt": "2015-06-10T21:03:02Z",
                            "modifiedAt": "2016-08-09T15:46:02Z"
                        }
                    ],
                    "folders": [
                        {
                            "id": 1000000000000006,
                            "name": "DataAggregator",
                            "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                            "sheets": [
                                {
                                    "id": 1000000000000007,
                                    "name": "Aggregator-GeocodeAPI",
                                    "accessLevel": "OWNER",
                                    "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                                    "createdAt": "2013-12-06T22:04:29Z",
                                    "modifiedAt": "2016-08-09T01:00:02Z"
                                },
                                {
                                    "id": 1000000000000008,
                                    "name": "Aggregator-OpenLDAP",
                                    "accessLevel": "OWNER",
                                    "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                                    "createdAt": "2013-12-17T00:07:50Z",
                                    "modifiedAt": "2016-08-09T01:07:36Z"
                                }
                            ]
                        },
                        {
                            "id": 1000000000000009,
                            "name": "pytest 2016-10-06 09:41:37PDT",
                            "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                            "sheets": [
                                {
                                    "id": 1000000000000010,
                                    "name": "pytest_fixture_sheet 2016-10-06 09:41:37PDT",
                                    "accessLevel": "OWNER",
                                    "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                                    "createdAt": "2016-10-06T16:41:35Z",
                                    "modifiedAt": "2016-10-06T16:41:36Z"
                                }
                            ]
                        }
                    ],
                    "reports": [
                        {
                            "id": 1000000000000012,
                            "name": "Acme",
                            "accessLevel": "OWNER",
                            "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink"
                        }
                    ],
                    "templates": [
                        {
                            "id": 1000000000000013,
                            "name": "Bake Sale Template",
                            "accessLevel": "OWNER",
                            "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink"
                        }
                    ],
                    "workspaces": [
                        {
                            "id": 1000000000000014,
                            "name": "Boot Camp Company",
                            "accessLevel": "VIEWER",
                            "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                            "sheets": [
                                {
                                    "id": 1000000000000015,
                                    "name": "Spring Project Sheet",
                                    "accessLevel": "VIEWER",
                                    "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                                    "createdAt": "2013-09-13T22:01:45Z",
                                    "modifiedAt": "2016-08-08T23:46:45Z"
                                }
                            ],
                            "folders": [
                                {
                                    "id": 1000000000000016,
                                    "name": "Human Resources",
                                    "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                                    "sheets": [
                                        {
                                            "id": 1000000000000017,
                                            "name": "Employee Info",
                                            "accessLevel": "VIEWER",
                                            "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                                            "createdAt": "2013-08-16T23:27:58Z",
                                            "modifiedAt": "2016-08-08T23:23:27Z"
                                        },
                                        {
                                            "id": 1000000000000018,
                                            "name": "Job Candidate Tracker",
                                            "accessLevel": "VIEWER",
                                            "permalink": "https://app.smartsheet.com/b/home?lx=nOtarEalLink",
                                            "createdAt": "2013-08-16T23:49:10Z",
                                            "modifiedAt": "2016-08-08T23:23:24Z"
                                        }
                                    ]
                                }
                            ]
                        }
                    ],
                    "sights": [
                        {
                            "id": 1000000000000019,
                            "name": "BI Portal",
                            "accessLevel": "EDITOR_SHARE",
                            "permalink": "https://app.smartsheet.com/b/home?lx=wFeaNcLmO-nOtarEalLink",
                            "createdAt": "2016-02-19T18:37:29Z",
                            "modifiedAt": "2016-11-13T02:36:02Z"
                        }
                    ]
                };
                $scope.vm.setSelectedSheet = function(selectedSheet) {
                    console.log(selectedSheet);
                }
        });
    </script>
</body>
</html>